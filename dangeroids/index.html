<!DOCTYPE HTML>
<html>
<head>
	<title>pixi.js example 1</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			background-color: #000000;
		}
	</style>
	<script src="pixi.js"></script>

</head>
<body>
	<script>
	// center of the window
	var centerX = window.innerWidth/2;
	var centerY = window.innerHeight/2;

	// planet distances from the center of the system
	var mercuryDist = 100;
	var venusDist = 200;
	var earthDist = 300;

	// planet angle
	var mercuryAlpha = 0;
	var venusAlpha = 0;
	var earthAlpha = 0;

	// planet speeds
	var mercurySpeed = 0.01;
	var venusSpeed = 0.0021;
	var earthSpeed = 0.0012;

	// create an new instance of a pixi stage
	var stage = new PIXI.Stage(0x000000);

	// create a renderer instance
	var renderer = PIXI.autoDetectRenderer(window.innerWidth, window.innerHeight);

	// add the renderer view element to the DOM
	document.body.appendChild(renderer.view);

	requestAnimFrame(animate);

	var sun = new PIXI.Graphics();
	// start 	 
	sun.beginFill(0xCCCCCC);
	// add Sun
	sun.drawCircle(centerX, centerY, 50);
	// end the fill
	sun.endFill();
	
	var mercury = new PIXI.Graphics();
	// start 	 
	mercury.beginFill(0xCCCCCC);
	// add Sun
	mercury.drawCircle(centerX + mercuryDist, centerY, 2);
	// pivot point (the Sun)
	// mercury.pivot.set(mercury.x+50, mercury.y);
	// mercury.anchor.set(0, 0);
	console.log("centerX: " + centerX + " centerY: " + centerY);
	// end the fill
	mercury.endFill();

	var venus = new PIXI.Graphics();
	// start 	 
	venus.beginFill(0xAAAA00);
	// add Sun
	venus.drawCircle(centerX + venusDist, centerY, 4);
	// end the fill
	venus.endFill();

	var earth = new PIXI.Graphics();
	// start 	 
	earth.beginFill(0x0000CC);
	// add Sun
	earth.drawCircle(centerX + earthDist, centerY, 4);
	// end the fill
	earth.endFill();

	// add it the stage so we see it on our screens..
	stage.addChild(sun);
	stage.addChild(mercury);
	stage.addChild(venus);
	stage.addChild(earth);

	// mercury.x = sun.x + 200;
    // mercury.x = sun.x + (mercury.y / Math.sin(mercuryAlpha));
    // mercury.y = sun.y + (mercury.x * Math.sin(mercuryAlpha));
    // mercuryAlpha += 0.001;

	function animate() {
	    requestAnimFrame(animate);
	    
	    // rotate mercury
	    rotate(mercury, mercuryDist, mercuryAlpha, mercurySpeed);
	    mercuryAlpha += mercurySpeed;	    
	    // rotate venus
	    rotate(venus, venusDist, venusAlpha, venusSpeed);
	    venusAlpha += venusSpeed;	    
	    // rotate earth
	    rotate(earth, earthDist, earthAlpha, earthSpeed);
	    earthAlpha += earthSpeed;

	    // render the stage
	    renderer.render(stage);
	}

	function rotate(object, r, alpha, speed)
	{
		object.x = r * Math.cos(alpha) - r;
		object.y = r * Math.sin(alpha);
		//alpha += speed;
	}
	</script>

	</body>
</html>
